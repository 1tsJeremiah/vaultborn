{"timestamp": "2025-06-30T06:50:32Z", "source": "vaultborn-codex-patch-protocol.md", "section": "Patch Lifecycle & Tracking", "content": "- **Every code or documentation task MUST have a unique Patch ID**\n  - Format: `PXXXX` (incrementing) or another consistent scheme.\n  - Patch IDs are assigned by incrementing the last `id` in `.llmstate/patch-pipeline.jsonl`.\n- **Patch protocol for Codex/agents:**\n  1. **Before starting any patch,** read `AGENTS.md` and the latest entries in `.llmstate/patch-pipeline.jsonl` and `.llmstate/notes.jsonl`.\n  2. **Log the new task:**\n     - Append an entry to `.llmstate/patch-pipeline.jsonl` with status `\"started\"` (including ID, timestamp, description).\n  3. **Code changes:**\n     - Add a comment in code referencing the patch ID (e.g., `// PATCH-P0042: ...`).\n  4. **Commit and Branching:**\n     - The commit message MUST include the patch ID (e.g., `[PATCH-P0042]`), along with a short description.\n     - If creating a branch/PR, include the patch ID in the branch name and PR description.\n  5. **Post-commit logging:**\n     - After a successful commit (and push), append another entry to `.llmstate/patch-pipeline.jsonl` for this patch with status `\"committed\"`, including the commit SHA.\n     - Append a summary note to `.llmstate/notes.jsonl` for agent cross-reference.", "by": "Codex", "tags": ["protocol", "machine"]}
{"timestamp": "2025-06-30T06:50:32Z", "source": "vaultborn-codex-patch-protocol.md", "section": "State and Notes Conventions", "content": "- `.llmstate/patch-pipeline.jsonl` is append-only and the single source of truth for patch/task history.\n- `.llmstate/notes.jsonl` stores short, freeform notes about patch intent, coordination, or extra context.\n- **Never overwrite or edit existing JSONL entriesâ€”always append.**\n- Agents/LLMs/CI must re-read these files before any action.", "by": "Codex", "tags": ["protocol", "machine"]}
{"timestamp": "2025-06-30T06:50:32Z", "source": "vaultborn-codex-patch-protocol.md", "section": "AGENTS.md Protocol", "content": "- AGENTS.md contains the full protocol and must be referenced by Codex/LLMs on every task start.\n- Update AGENTS.md as needed to reflect new automation standards or task tracking changes.", "by": "Codex", "tags": ["protocol", "machine"]}
{"timestamp": "2025-06-30T06:50:32Z", "source": "vaultborn-codex-patch-protocol.md", "section": "Example Prompt Template (for Codex/LLM tasks)", "content": "\"\"\"\nApply the following change: [describe change/task].\n- Assign a unique Patch ID by incrementing from .llmstate/patch-pipeline.jsonl.\n- Log 'started' and 'committed' entries in .llmstate/patch-pipeline.jsonl with ID, status, timestamp, and commit SHA.\n- Add a code comment with the Patch ID.\n- Use the Patch ID in all commit messages, branch names, and PR descriptions.\n- Append a summary note to .llmstate/notes.jsonl after push.\n- Always follow the protocols in AGENTS.md and never overwrite state logs.\n\"\"\"", "by": "Codex", "tags": ["protocol", "machine"]}